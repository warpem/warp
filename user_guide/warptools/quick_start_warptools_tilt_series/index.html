
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Warp">
      
      
        <meta name="author" content="Dimitry Tegunov">
      
      
        <link rel="canonical" href="https://warpem.com/user_guide/warptools/quick_start_warptools_tilt_series/">
      
      
        <link rel="prev" href="../quick_start_warptools_frame_series/">
      
      
        <link rel="next" href="../../../reference/warp/interface/interface_overview/">
      
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Quick Start: Tilt Series - Warp, M and friends</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M17%2013h-4v4h-2v-4H7v-2h4V7h2v4h4m-5-9A10%2010%200%200%200%202%2012a10%2010%200%200%200%2010%2010%2010%2010%200%200%200%2010-10A10%2010%200%200%200%2012%202%22/%3E%3C/svg%3E');}</style>


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quick-start-tilt-series" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Warp, M and friends" class="md-header__button md-logo" aria-label="Warp, M and friends" data-md-component="logo">
      
  <img src="../../../assets/warp_m_logos_combined.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Warp, M and friends
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quick Start: Tilt Series
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="purple"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/warpem/warp" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    warpem/warp
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
  üè° Home

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../overview/" class="md-tabs__link">
          
  
  
  üìò User Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../reference/warp/interface/interface_overview/" class="md-tabs__link">
          
  
  
  üóÑÔ∏è Reference

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../papers/" class="md-tabs__link">
        
  
  
    
  
  üìú Papers

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://groups.google.com/forum/#!forum/warp-em" class="md-tabs__link">
        
  
  
    
  
  üí¨ Discussion Group

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://github.com/warpem/warp/issues" class="md-tabs__link">
        
  
  
    
  
  üêõ Submit a Bug

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../team/" class="md-tabs__link">
        
  
  
    
  
  üßë‚Äçü§ù‚Äçüßë Team

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Warp, M and friends" class="md-nav__button md-logo" aria-label="Warp, M and friends" data-md-component="logo">
      
  <img src="../../../assets/warp_m_logos_combined.png" alt="logo">

    </a>
    Warp, M and friends
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/warpem/warp" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    warpem/warp
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üè° Home
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            üè° Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../home/warp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Warp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../home/m/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    M
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üìò User Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            üìò User Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Desktop Warp
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Desktop Warp
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../warp/quick_start_warp_frame_series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start: Frame Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../warp/quick_start_warp_tilt_series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start: Tilt Series
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Desktop M
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Desktop M
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../m/quick_start_m/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start: M
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    WarpTools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            WarpTools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick_start_warptools_frame_series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start: Frame Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Quick Start: Tilt Series
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Quick Start: Tilt Series
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-calculated-results" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-Calculated Results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      Preparation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preparation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      Download the data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-warp-settings-files" class="md-nav__link">
    <span class="md-ellipsis">
      Create Warp Settings Files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preprocessing-from-frames-to-tomograms" class="md-nav__link">
    <span class="md-ellipsis">
      Preprocessing: From Frames to Tomograms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preprocessing: From Frames to Tomograms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frame-series-motion-and-ctf-estimation" class="md-nav__link">
    <span class="md-ellipsis">
      Frame Series: Motion and CTF Estimation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilt-series-import" class="md-nav__link">
    <span class="md-ellipsis">
      Tilt Series: Import
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilt-series-alignment" class="md-nav__link">
    <span class="md-ellipsis">
      Tilt Series: Alignment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilt-series-check-defocus-handedness" class="md-nav__link">
    <span class="md-ellipsis">
      Tilt Series: Check Defocus Handedness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilt-series-ctf-estimation" class="md-nav__link">
    <span class="md-ellipsis">
      Tilt Series: CTF Estimation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilt-series-reconstruct-tomograms" class="md-nav__link">
    <span class="md-ellipsis">
      Tilt Series: Reconstruct Tomograms
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#particle-picking" class="md-nav__link">
    <span class="md-ellipsis">
      Particle Picking
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Particle Picking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#template-matching" class="md-nav__link">
    <span class="md-ellipsis">
      Template Matching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-particles" class="md-nav__link">
    <span class="md-ellipsis">
      Export Particles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-3d-refinement-in-relion" class="md-nav__link">
    <span class="md-ellipsis">
      Initial 3D Refinement in RELION
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-resolution-refinements-in-m" class="md-nav__link">
    <span class="md-ellipsis">
      High Resolution Refinements in M
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High Resolution Refinements in M">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-in-mtools" class="md-nav__link">
    <span class="md-ellipsis">
      Setup in MTools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-m-with-mcore" class="md-nav__link">
    <span class="md-ellipsis">
      Running M with MCore
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-map-29a" class="md-nav__link">
    <span class="md-ellipsis">
      Final Map: 2.9√Ö
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üóÑÔ∏è Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            üóÑÔ∏è Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Warp
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Warp
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warp/interface/interface_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interface Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warp/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spatiotemporal Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warp/task_dialogs_frame_series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Task Dialogs: Frame Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warp/task_dialogs_tilt_series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Task Dialogs: Tilt Series
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    M
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            M
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/m/particle_operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Particle Operations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    WarpTools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            WarpTools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_3_1" id="__nav_3_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_1">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warptools/api/general/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    General
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warptools/api/frame_series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Frame Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warptools/api/tilt_series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tilt Series
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warptools/environment_variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warptools/subsets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Processing Subsets of Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warptools/custom_tilt_series_alignments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Tilt Series Alignment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warptools/advanced_data_flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Data Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warptools/processing_tilt_series_stacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Processing Tilt Series Stacks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warptools/tomogram_denoising/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tomogram Denoising
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warptools/tomogram_particle_files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tomogram Particle File Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/warptools/processing_warp_v1_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Desktop Warp ‚Üí WarpTools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MTools/MCore
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            MTools/MCore
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4_1" >
        
          
          <label class="md-nav__link" for="__nav_3_4_1" id="__nav_3_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_1">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/mtools/api/mtools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MTools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/mtools/api/mcore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MCore
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    BoxNet
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            BoxNet
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/boxnet/fs_training/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Frame Series Training
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../papers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìú Papers
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://groups.google.com/forum/#!forum/warp-em" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üí¨ Discussion Group
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/warpem/warp/issues" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üêõ Submit a Bug
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üßë‚Äçü§ù‚Äçüßë Team
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-calculated-results" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-Calculated Results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      Preparation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preparation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      Download the data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-warp-settings-files" class="md-nav__link">
    <span class="md-ellipsis">
      Create Warp Settings Files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preprocessing-from-frames-to-tomograms" class="md-nav__link">
    <span class="md-ellipsis">
      Preprocessing: From Frames to Tomograms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preprocessing: From Frames to Tomograms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frame-series-motion-and-ctf-estimation" class="md-nav__link">
    <span class="md-ellipsis">
      Frame Series: Motion and CTF Estimation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilt-series-import" class="md-nav__link">
    <span class="md-ellipsis">
      Tilt Series: Import
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilt-series-alignment" class="md-nav__link">
    <span class="md-ellipsis">
      Tilt Series: Alignment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilt-series-check-defocus-handedness" class="md-nav__link">
    <span class="md-ellipsis">
      Tilt Series: Check Defocus Handedness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilt-series-ctf-estimation" class="md-nav__link">
    <span class="md-ellipsis">
      Tilt Series: CTF Estimation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tilt-series-reconstruct-tomograms" class="md-nav__link">
    <span class="md-ellipsis">
      Tilt Series: Reconstruct Tomograms
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#particle-picking" class="md-nav__link">
    <span class="md-ellipsis">
      Particle Picking
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Particle Picking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#template-matching" class="md-nav__link">
    <span class="md-ellipsis">
      Template Matching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-particles" class="md-nav__link">
    <span class="md-ellipsis">
      Export Particles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-3d-refinement-in-relion" class="md-nav__link">
    <span class="md-ellipsis">
      Initial 3D Refinement in RELION
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-resolution-refinements-in-m" class="md-nav__link">
    <span class="md-ellipsis">
      High Resolution Refinements in M
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High Resolution Refinements in M">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-in-mtools" class="md-nav__link">
    <span class="md-ellipsis">
      Setup in MTools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-m-with-mcore" class="md-nav__link">
    <span class="md-ellipsis">
      Running M with MCore
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-map-29a" class="md-nav__link">
    <span class="md-ellipsis">
      Final Map: 2.9√Ö
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="quick-start-tilt-series">Quick Start: Tilt Series</h1>
<p>In this guide, you will learn how to process your tilt series data all the way from
frames and associated metadata to a nice high resolution map from the command line
using <em>WarpTools</em>! üåü</p>
<p>We will be processing 5 tilt series of apoferritin from
<a href="https://www.ebi.ac.uk/empiar/EMPIAR-10491/">EMPIAR-10491</a> as an example in this guide.</p>
<p>You should obtain a ~3√Ö map from these 5 tilt series following this guide.</p>
<figure>
  <img alt="M result" src="../assets/m_result.jpg" width="80%" />
<br />
<figcaption>Goal: A ~3√Ö map of apoferritin</figcaption>
</figure>
<h2 id="overview">Overview</h2>
<ul>
<li>frame series preprocessing with <em>WarpTools</em></li>
<li>tilt series preprocessing with <em>WarpTools</em></li>
<li>initial 3D refinement in <em>RELION</em></li>
<li>multi-particle refinement with <em>MTools</em> and <em>MCore</em></li>
</ul>
<h2 id="pre-calculated-results">Pre-Calculated Results</h2>
<p>Pre-calculated results (38GB) are available to download at
<a href="https://doi.org/10.5281/zenodo.11398168">10.5281/zenodo.11398168</a>.</p>
<h2 id="preparation">Preparation</h2>
<h3 id="download-the-data">Download the data</h3>
<p>First, let's download the frame series data, mdoc metadata files and the
gain reference into an empty directory.</p>
<div class="admonition info">
<p class="admonition-title">only have tilt series stacks?</p>
<p>Check our guide on 
<a href="../../../reference/warptools/processing_tilt_series_stacks/">processing tilt series stacks</a> 
to get started!</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">shell script</label><label for="__tabbed_1_2"><code>&lt;root_dir&gt;</code></label><label for="__tabbed_1_3"><code>frames</code></label><label for="__tabbed_1_4"><code>mdoc</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># download the gain reference</span>
wget<span class="w"> </span><span class="se">\</span>
--timestamping<span class="w"> </span><span class="se">\</span>
--no-directories<span class="w"> </span><span class="se">\</span>
--directory-prefix<span class="w"> </span>./<span class="w"> </span><span class="se">\</span>
ftp://ftp.ebi.ac.uk/empiar/world_availability/10491/data/gain_ref.mrc<span class="p">;</span>

<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">32</span><span class="p">;</span>
<span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;======================================================&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;================= Downloading TS_</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span><span class="s2"> ================&quot;</span>
<span class="w">    </span><span class="c1"># download the mdoc file</span>
<span class="w">    </span>wget<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--timestamping<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--no-directories<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--directory-prefix<span class="w"> </span>./mdoc<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>ftp://ftp.ebi.ac.uk/empiar/world_availability/10491/data/tiltseries/mdoc/TS_<span class="si">${</span><span class="nv">i</span><span class="si">}</span>.mrc.mdoc<span class="p">;</span>

<span class="w">    </span><span class="c1"># download the frames</span>
<span class="w">    </span>wget<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--timestamping<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--no-directories<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--directory-prefix<span class="w"> </span>./frames<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>ftp://ftp.ebi.ac.uk/empiar/world_availability/10491/data/tiltseries/data/*-<span class="si">${</span><span class="nv">i</span><span class="si">}</span>_*.tif<span class="p">;</span>
<span class="k">done</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>.
‚îú‚îÄ‚îÄ gain_ref.mrc
‚îú‚îÄ‚îÄ frames
‚îî‚îÄ‚îÄ mdoc

2 directories, 1 file    
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>./frames
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00001_-0.0_Jul31_10.36.03.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00002_2.0_Jul31_10.36.43.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00003_4.0_Jul31_10.37.23.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00004_-2.0_Jul31_10.38.06.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00005_-4.0_Jul31_10.38.47.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00006_6.0_Jul31_10.39.28.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00007_8.0_Jul31_10.40.08.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00008_-6.0_Jul31_10.40.51.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00009_-8.0_Jul31_10.41.34.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00010_10.0_Jul31_10.42.16.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00011_12.0_Jul31_10.42.56.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00012_-10.0_Jul31_10.43.39.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00013_-12.0_Jul31_10.44.21.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00014_14.0_Jul31_10.45.03.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00015_16.0_Jul31_10.45.51.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00016_-14.0_Jul31_10.46.47.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00017_-16.0_Jul31_10.47.29.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00018_18.0_Jul31_10.48.13.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00019_20.0_Jul31_10.48.53.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00020_-18.0_Jul31_10.49.38.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00021_-20.0_Jul31_10.50.20.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00022_22.0_Jul31_10.51.04.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00023_24.0_Jul31_10.51.44.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00024_-22.0_Jul31_10.52.29.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00025_-24.0_Jul31_10.53.10.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00026_26.0_Jul31_10.53.54.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00027_28.0_Jul31_10.54.34.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00028_-26.0_Jul31_10.55.20.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00029_-28.0_Jul31_10.56.01.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00030_30.0_Jul31_10.56.46.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00031_32.0_Jul31_10.57.26.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00032_-30.0_Jul31_10.58.12.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00033_-32.0_Jul31_10.59.02.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00034_34.0_Jul31_10.59.47.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00035_36.0_Jul31_11.00.36.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00036_-34.0_Jul31_11.01.23.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00037_-36.0_Jul31_11.02.04.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00038_38.0_Jul31_11.03.02.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00039_40.0_Jul31_11.03.42.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00040_-38.0_Jul31_11.04.30.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-1_00041_-40.0_Jul31_11.05.12.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00001_-0.0_Jul31_16.50.54.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00002_2.0_Jul31_16.51.34.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00003_4.0_Jul31_16.52.14.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00004_-2.0_Jul31_16.52.57.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00005_-4.0_Jul31_16.53.38.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00006_6.0_Jul31_16.54.20.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00007_8.0_Jul31_16.54.59.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00008_-6.0_Jul31_16.55.43.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00009_-8.0_Jul31_16.56.25.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00010_10.0_Jul31_16.57.07.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00011_12.0_Jul31_16.57.47.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00012_-10.0_Jul31_16.58.31.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00013_-12.0_Jul31_16.59.13.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00014_14.0_Jul31_16.59.55.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00015_16.0_Jul31_17.00.35.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00016_-14.0_Jul31_17.01.19.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00017_-16.0_Jul31_17.02.01.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00018_18.0_Jul31_17.02.52.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00019_20.0_Jul31_17.03.33.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00020_-18.0_Jul31_17.04.18.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00021_-20.0_Jul31_17.05.08.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00022_22.0_Jul31_17.05.52.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00023_24.0_Jul31_17.06.32.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00024_-22.0_Jul31_17.07.18.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00025_-24.0_Jul31_17.07.59.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00026_26.0_Jul31_17.08.44.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00027_28.0_Jul31_17.09.24.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00028_-26.0_Jul31_17.10.09.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00029_-28.0_Jul31_17.10.51.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00030_30.0_Jul31_17.11.37.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00031_32.0_Jul31_17.12.17.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00032_-30.0_Jul31_17.13.23.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00033_-32.0_Jul31_17.14.05.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00034_34.0_Jul31_17.14.51.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00035_36.0_Jul31_17.15.31.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00036_-34.0_Jul31_17.16.18.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00037_-36.0_Jul31_17.17.00.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00038_38.0_Jul31_17.17.46.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00039_40.0_Jul31_17.18.26.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00040_-38.0_Jul31_17.19.13.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-11_00041_-40.0_Jul31_17.19.55.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00001_-0.0_Jul31_21.21.04.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00002_2.0_Jul31_21.21.44.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00003_4.0_Jul31_21.22.24.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00004_-2.0_Jul31_21.23.07.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00005_-4.0_Jul31_21.23.48.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00006_6.0_Jul31_21.24.29.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00007_8.0_Jul31_21.25.09.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00008_-6.0_Jul31_21.25.53.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00009_-8.0_Jul31_21.26.34.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00010_10.0_Jul31_21.27.17.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00011_12.0_Jul31_21.27.56.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00012_-10.0_Jul31_21.28.41.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00013_-12.0_Jul31_21.29.23.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00014_14.0_Jul31_21.30.07.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00015_16.0_Jul31_21.30.47.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00016_-14.0_Jul31_21.31.43.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00017_-16.0_Jul31_21.32.25.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00018_18.0_Jul31_21.33.08.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00019_20.0_Jul31_21.33.47.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00020_-18.0_Jul31_21.34.32.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00021_-20.0_Jul31_21.35.14.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00022_22.0_Jul31_21.35.58.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00023_24.0_Jul31_21.36.38.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00024_-22.0_Jul31_21.37.24.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00025_-24.0_Jul31_21.38.07.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00026_26.0_Jul31_21.38.51.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00027_28.0_Jul31_21.39.31.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00028_-26.0_Jul31_21.40.17.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00029_-28.0_Jul31_21.41.07.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00030_30.0_Jul31_21.41.51.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00031_32.0_Jul31_21.42.31.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00032_-30.0_Jul31_21.43.18.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00033_-32.0_Jul31_21.44.01.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00034_34.0_Jul31_21.44.45.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00035_36.0_Jul31_21.45.26.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00036_-34.0_Jul31_21.46.12.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00037_-36.0_Jul31_21.46.55.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00038_38.0_Jul31_21.47.40.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00039_40.0_Jul31_21.48.20.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00040_-38.0_Jul31_21.49.08.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-17_00041_-40.0_Jul31_21.49.50.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00001_-0.0_Aug01_10.29.18.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00002_2.0_Aug01_10.29.58.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00003_4.0_Aug01_10.30.39.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00004_-2.0_Aug01_10.31.21.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00005_-4.0_Aug01_10.32.02.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00006_6.0_Aug01_10.32.43.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00007_8.0_Aug01_10.33.23.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00008_-6.0_Aug01_10.34.06.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00009_-8.0_Aug01_10.34.48.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00010_10.0_Aug01_10.35.30.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00011_12.0_Aug01_10.36.10.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00012_-10.0_Aug01_10.36.53.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00013_-12.0_Aug01_10.37.34.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00014_14.0_Aug01_10.38.17.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00015_16.0_Aug01_10.38.58.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00016_-14.0_Aug01_10.39.42.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00017_-16.0_Aug01_10.40.24.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00018_18.0_Aug01_10.41.07.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00019_20.0_Aug01_10.41.47.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00020_-18.0_Aug01_10.42.32.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00021_-20.0_Aug01_10.43.14.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00022_22.0_Aug01_10.43.57.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00023_24.0_Aug01_10.44.38.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00024_-22.0_Aug01_10.45.24.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00025_-24.0_Aug01_10.46.06.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00026_26.0_Aug01_10.46.50.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00027_28.0_Aug01_10.47.31.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00028_-26.0_Aug01_10.48.16.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00029_-28.0_Aug01_10.48.58.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00030_30.0_Aug01_10.49.50.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00031_32.0_Aug01_10.50.30.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00032_-30.0_Aug01_10.51.17.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00033_-32.0_Aug01_10.51.59.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00034_34.0_Aug01_10.52.51.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00035_36.0_Aug01_10.53.39.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00036_-34.0_Aug01_10.54.28.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00037_-36.0_Aug01_10.55.10.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00038_38.0_Aug01_10.56.03.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00039_40.0_Aug01_10.56.43.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00040_-38.0_Aug01_10.57.30.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-23_00041_-40.0_Aug01_10.58.12.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00001_-0.0_Aug01_19.22.49.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00002_2.0_Aug01_19.23.29.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00003_4.0_Aug01_19.24.09.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00004_-2.0_Aug01_19.24.51.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00005_-4.0_Aug01_19.25.33.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00006_6.0_Aug01_19.26.14.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00007_8.0_Aug01_19.26.54.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00008_-6.0_Aug01_19.27.38.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00009_-8.0_Aug01_19.28.19.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00010_10.0_Aug01_19.29.01.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00011_12.0_Aug01_19.29.53.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00012_-10.0_Aug01_19.30.36.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00013_-12.0_Aug01_19.31.18.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00014_14.0_Aug01_19.32.01.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00015_16.0_Aug01_19.32.40.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00016_-14.0_Aug01_19.33.25.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00017_-16.0_Aug01_19.34.07.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00018_18.0_Aug01_19.34.49.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00019_20.0_Aug01_19.35.29.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00020_-18.0_Aug01_19.36.14.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00021_-20.0_Aug01_19.36.56.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00022_22.0_Aug01_19.38.03.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00023_24.0_Aug01_19.38.43.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00024_26.0_Aug01_19.39.23.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00025_28.0_Aug01_19.40.03.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00026_30.0_Aug01_19.40.43.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00027_32.0_Aug01_19.41.23.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00028_34.0_Aug01_19.42.02.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00029_36.0_Aug01_19.42.42.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00030_38.0_Aug01_19.43.22.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00031_40.0_Aug01_19.44.02.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00032_-22.0_Aug01_19.45.21.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00033_-24.0_Aug01_19.46.03.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00034_-26.0_Aug01_19.46.45.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00035_-28.0_Aug01_19.47.28.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00036_-30.0_Aug01_19.48.11.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00037_-32.0_Aug01_19.48.54.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00038_-34.0_Aug01_19.49.43.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00039_-36.0_Aug01_19.50.33.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00040_-38.0_Aug01_19.51.16.tif
‚îú‚îÄ‚îÄ 2Dvs3D_53-32_00041_-40.0_Aug01_19.51.58.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00001_-0.0_Aug02_01.08.03.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00002_2.0_Aug02_01.08.43.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00003_4.0_Aug02_01.09.23.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00004_-2.0_Aug02_01.10.06.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00005_-4.0_Aug02_01.10.47.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00006_6.0_Aug02_01.11.29.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00007_8.0_Aug02_01.12.09.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00008_-6.0_Aug02_01.12.52.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00009_-8.0_Aug02_01.13.34.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00010_10.0_Aug02_01.14.15.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00011_12.0_Aug02_01.14.55.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00012_-10.0_Aug02_01.15.39.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00013_-12.0_Aug02_01.16.21.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00014_14.0_Aug02_01.17.03.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00015_16.0_Aug02_01.17.43.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00016_-14.0_Aug02_01.18.28.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00017_-16.0_Aug02_01.19.10.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00018_18.0_Aug02_01.19.53.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00019_20.0_Aug02_01.20.32.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00020_-18.0_Aug02_01.21.17.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00021_-20.0_Aug02_01.22.00.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00022_22.0_Aug02_01.23.04.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00023_24.0_Aug02_01.23.44.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00024_26.0_Aug02_01.24.24.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00025_28.0_Aug02_01.25.04.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00026_30.0_Aug02_01.25.44.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00027_32.0_Aug02_01.26.24.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00028_34.0_Aug02_01.27.04.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00029_36.0_Aug02_01.27.45.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00030_38.0_Aug02_01.28.25.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00031_40.0_Aug02_01.29.05.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00032_-22.0_Aug02_01.30.24.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00033_-24.0_Aug02_01.31.06.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00034_-26.0_Aug02_01.31.48.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00035_-28.0_Aug02_01.32.30.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00036_-30.0_Aug02_01.33.12.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00037_-32.0_Aug02_01.33.55.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00038_-34.0_Aug02_01.34.44.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00039_-36.0_Aug02_01.35.26.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00040_-38.0_Aug02_01.36.16.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-11_00041_-40.0_Aug02_01.36.58.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00001_-0.0_Aug02_10.40.58.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00002_2.0_Aug02_10.41.38.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00003_4.0_Aug02_10.42.19.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00004_-2.0_Aug02_10.43.04.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00005_-4.0_Aug02_10.43.49.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00006_6.0_Aug02_10.44.31.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00007_8.0_Aug02_10.45.10.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00008_-6.0_Aug02_10.45.55.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00009_-8.0_Aug02_10.46.37.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00010_10.0_Aug02_10.47.19.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00011_12.0_Aug02_10.47.58.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00012_-10.0_Aug02_10.48.50.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00013_-12.0_Aug02_10.49.31.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00014_14.0_Aug02_10.50.15.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00015_16.0_Aug02_10.50.54.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00016_-14.0_Aug02_10.51.47.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00017_-16.0_Aug02_10.52.29.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00018_18.0_Aug02_10.53.11.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00019_20.0_Aug02_10.53.58.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00020_-18.0_Aug02_10.54.51.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00021_-20.0_Aug02_10.55.33.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00022_22.0_Aug02_10.56.37.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00023_24.0_Aug02_10.57.26.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00024_26.0_Aug02_10.58.13.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00025_28.0_Aug02_10.59.01.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00026_30.0_Aug02_10.59.49.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00027_32.0_Aug02_11.00.37.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00028_34.0_Aug02_11.01.24.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00029_36.0_Aug02_11.02.11.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00030_38.0_Aug02_11.03.00.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00031_40.0_Aug02_11.03.47.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00032_-22.0_Aug02_11.05.03.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00033_-24.0_Aug02_11.05.46.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00034_-26.0_Aug02_11.06.28.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00035_-28.0_Aug02_11.07.10.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00036_-30.0_Aug02_11.07.52.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00037_-32.0_Aug02_11.08.34.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00038_-34.0_Aug02_11.09.16.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00039_-36.0_Aug02_11.09.58.tif
‚îú‚îÄ‚îÄ 2Dvs3D_59-32_00040_-38.0_Aug02_11.10.41.tif
‚îî‚îÄ‚îÄ 2Dvs3D_59-32_00041_-40.0_Aug02_11.11.23.tif
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>./mdoc
‚îú‚îÄ‚îÄ TS_11.mrc.mdoc
‚îú‚îÄ‚îÄ TS_17.mrc.mdoc
‚îú‚îÄ‚îÄ TS_1.mrc.mdoc
‚îú‚îÄ‚îÄ TS_23.mrc.mdoc
‚îî‚îÄ‚îÄ TS_32.mrc.mdoc
</code></pre></div>
</div>
</div>
</div>
<h3 id="create-warp-settings-files">Create Warp Settings Files</h3>
<p>Settings files are config files which tell <em>WarpTools</em></p>
<ol>
<li>where to look for data to process</li>
<li>where to store results</li>
<li>relevant metadata</li>
</ol>
<p>We will create two settings files,
<code>warp_frameseries.settings</code> and <code>warp_tiltseries.settings</code>.
These will be used for frame series and tilt series processing respectively.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Frame Series</label><label for="__tabbed_2_2">Tilt Series</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><span class="filename">Create Frame Series Settings File</span><pre><span></span><code>WarpTools create_settings \
--folder_data frames \
--folder_processing warp_frameseries \
--output warp_frameseries.settings \
--extension &quot;*.tif&quot; \
--angpix 0.7894 \
--gain_path gain_ref.mrc \
--gain_flip_y \
--exposure 2.64
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><span class="filename">Create Tilt Series Settings File</span><pre><span></span><code>WarpTools<span class="w"> </span>create_settings<span class="w"> </span><span class="se">\</span>
--output<span class="w"> </span>warp_tiltseries.settings<span class="w"> </span><span class="se">\</span>
--folder_processing<span class="w"> </span>warp_tiltseries<span class="w"> </span><span class="se">\</span>
--folder_data<span class="w"> </span>tomostar<span class="w"> </span><span class="se">\</span>
--extension<span class="w"> </span><span class="s2">&quot;*.tomostar&quot;</span><span class="w"> </span><span class="se">\</span>
--angpix<span class="w"> </span><span class="m">0</span>.7894<span class="w"> </span><span class="se">\</span>
--gain_path<span class="w"> </span>gain_ref.mrc<span class="w"> </span><span class="se">\</span>
--gain_flip_y<span class="w"> </span><span class="se">\</span>
--exposure<span class="w"> </span><span class="m">2</span>.64<span class="w"> </span><span class="se">\</span>
--tomo_dimensions<span class="w"> </span>4400x6000x1000<span class="w"> </span><span class="c1"># (1)!</span>
</code></pre></div>
<ol>
<li><img alt="üôã‚Äç‚ôÇÔ∏è" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64b-200d-2642-fe0f.svg" title=":man_raising_hand:" /> These are the dimensions of your tomograms in unbinned pixels.
    Tomograms are reconstructed with the tilt axis aligned along Y, remember to 
    account for rotation of the tilt axis when setting these dimensions!</li>
</ol>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Processing EER files?</p>
<p>add <code>--eer_ngroups</code> or <code>--eer_groupexposure</code> to your settings creation command</p>
</div>
<h2 id="preprocessing-from-frames-to-tomograms">Preprocessing: From Frames to Tomograms</h2>
<h3 id="frame-series-motion-and-ctf-estimation">Frame Series: Motion and CTF Estimation</h3>
<p>The first step in processing tilt movies involves estimating 2D sample motion and
contrast transfer function.</p>
<div class="highlight"><span class="filename">Frame Series Motion and CTF Estimation</span><pre><span></span><code>WarpTools<span class="w"> </span>fs_motion_and_ctf<span class="w"> </span><span class="se">\</span>
--settings<span class="w"> </span>warp_frameseries.settings<span class="w"> </span><span class="se">\</span>
--m_grid<span class="w"> </span>1x1x3<span class="w"> </span><span class="se">\</span>
--c_grid<span class="w"> </span>2x2x1<span class="w"> </span><span class="se">\</span>
--c_range_max<span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="se">\</span>
--c_defocus_max<span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="se">\</span>
--c_use_sum<span class="w"> </span><span class="se">\</span>
--out_averages<span class="w"> </span><span class="se">\</span>
--out_average_halves<span class="w"> </span><span class="c1"># (1)!</span>
</code></pre></div>
<ol>
<li><img alt="üôã‚Äç‚ôÇÔ∏è" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64b-200d-2642-fe0f.svg" title=":man_raising_hand:" /> averages of half sets of frames are required for Noise2Noise
   based denoising of images and tomograms</li>
</ol>
<p>Motion corrected averages will be written out to the <code>warp_frameseries/average</code>
directory.
Motion and CTF related metadata will be written into XML files, one per frame series, in
the <code>warp_frameseries</code> directory.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Algorithms in WarpTools were written for GPUs with ~16GB memory. </p>
<p>If you're lucky enough to access to bigger cards, try running multiple worker processes 
per GPU. We typically use <code>--perdevice 4</code> on A100 cards with 80GB memory.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Need more info?</p>
<p>All command line options and associated help text can be seen on our <a href="../../../reference/warptools/api/general/">API reference pages</a></p>
</div>
<h4 id="parameters-explained">Parameters explained</h4>
<h4 id="grids">Grids</h4>
<p>The <code>--m_grid 1x1x3</code> and <code>--c_grid 2x2x1</code> parameters define the resolution (<code>XxYxT</code>) of
motion and CTF models that will be estimated.</p>
<p>When processing tilt series data we typically recommend <code>1x1xNFrames</code> for motion grids
due to the low amount of signal available per tilt and <code>2x2x1</code> for CTF grids to enable
checking that defocus varies as expected across the tilt axis.</p>
<h4 id="ctf-parameters">CTF Parameters</h4>
<ul>
<li><code>--c_range_max</code> is the maximum spatial resolution of information used for fitting in √Ö</li>
<li><code>--c_defocus_max</code> is the maximum allowed defocus value</li>
</ul>
<p><code>--c_use_sum</code> controls whether CTF estimation use the power spectrum from the
motion corrected average or the sum of per-frame power spectra for estimation.
Estimating from the motion corrected average can be useful in the absence of an
energy filter, or generally when per frame signal is low.</p>
<h4 id="visualizing-results">Visualizing Results</h4>
<p>Just because you're at the command line doesn't mean you should have to dig through
text files to see how your processing went.
Use our handy <code>filter_quality</code> WarpTool to see various statistics about your data
processing
printed to the terminal.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Command</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><span class="filename">Plot Histograms of 2D Processing Metrics</span><pre><span></span><code>WarpTools filter_quality --settings warp_frameseries.settings --histograms
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="4:6"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><input id="__tabbed_4_4" name="__tabbed_4" type="radio" /><input id="__tabbed_4_5" name="__tabbed_4" type="radio" /><input id="__tabbed_4_6" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Motion</label><label for="__tabbed_4_2">Defocus</label><label for="__tabbed_4_3">Astigmatism</label><label for="__tabbed_4_4">CTF Resolution</label><label for="__tabbed_4_5">Phase Shift</label><label for="__tabbed_4_6">üí©</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>Motion in first 1/3 (√Ö):
0.1 - 0.4: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 72
0.4 - 0.8: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 84
0.8 - 1.2: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 55
1.2 - 1.5: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 27
1.5 - 1.9: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 18
1.9 - 2.3: ‚ñà‚ñà‚ñà‚ñà‚ñà 5
2.3 - 2.6: ‚ñà‚ñà‚ñà‚ñà‚ñà 5
2.6 - 3.0: ‚ñà‚ñà‚ñà‚ñà 4
3.0 - 3.4: ‚ñà‚ñà 2
3.4 - 3.7: ‚ñà‚ñà 2
3.7 - 4.1: ‚ñà‚ñà‚ñà‚ñà 4
4.1 - 4.4: ‚ñà‚ñà‚ñà‚ñà 4
4.4 - 4.8: ‚ñà 1
4.8 - 5.2: ‚ñà‚ñà 2
5.2 - 5.5:  0
5.5 - 5.9: ‚ñà 1
5.9 - 6.3: ‚ñà 1
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>Defocus (¬µm):
1.3 - 1.6: ‚ñà 1
1.6 - 1.9:  0
1.9 - 2.2: ‚ñà‚ñà 4
2.2 - 2.6: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 149
2.6 - 2.9: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 132
2.9 - 3.2:  0
3.2 - 3.6:  0
3.6 - 3.9:  0
3.9 - 4.2:  0
4.2 - 4.6:  0
4.6 - 4.9:  0
4.9 - 5.2:  0
5.2 - 5.5:  0
5.5 - 5.9:  0
5.9 - 6.2:  0
6.2 - 6.5:  0
6.5 - 6.9: ‚ñà 1
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>Astigmatism (¬µm): max = 26
 0.18 - 0.20 : |            ¬∑                     |
 0.15 - 0.18 : |                ¬∑                 |
 0.13 - 0.15 : |                                  |
 0.11 - 0.13 : |                        ¬∑         |
 0.08 - 0.11 : |                ¬∑ ¬∑     ¬∑         |
 0.06 - 0.08 : |              ¬∑   ¬∑ ¬∑ ¬∑           |
 0.04 - 0.06 : |¬∑       ¬∑   ¬∑ ¬∑¬∑‚ñë‚ñë‚ñë‚ñë¬∑¬∑            |
 0.01 - 0.04 : |        ¬∑¬∑¬∑ ‚ñë‚ñë‚ñë‚ñë‚ñí‚ñí‚ñì‚ñì¬∑¬∑¬∑           |
-0.01 - 0.01 : |¬∑         ¬∑ ‚ñë‚ñë‚ñí‚ñí‚ñà‚ñà‚ñì‚ñì‚ñí‚ñí¬∑         ¬∑ |
-0.04 - -0.01: |          ¬∑ ‚ñë‚ñë‚ñí‚ñí‚ñì‚ñì‚ñí‚ñí‚ñë‚ñë¬∑¬∑¬∑         |
-0.06 - -0.04: |        ¬∑ ¬∑ ¬∑ ‚ñë‚ñë‚ñí‚ñí‚ñì‚ñì¬∑¬∑  ¬∑¬∑¬∑       |
-0.08 - -0.06: |          ¬∑ ¬∑ ¬∑¬∑¬∑¬∑¬∑¬∑¬∑ ¬∑¬∑          |
-0.11 - -0.08: |                ¬∑¬∑¬∑     ¬∑         |
-0.13 - -0.11: |        ¬∑     ¬∑                   |
-0.15 - -0.13: |                                  |
-0.18 - -0.15: |                                  |
-0.20 - -0.18: |                                  |
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>CTF resolution (√Ö):
3.7 - 4.2 : ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 8
4.2 - 4.6 : ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 29
4.6 - 5.1 : ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 38
5.1 - 5.5 : ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 64
5.5 - 6.0 : ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 51
6.0 - 6.5 : ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 66
6.5 - 6.9 : ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 23
6.9 - 7.4 : ‚ñà‚ñà‚ñà‚ñà‚ñà 4
7.4 - 7.8 : ‚ñà‚ñà 2
7.8 - 8.3 : ‚ñà 1
8.3 - 8.7 :  0
8.7 - 9.2 :  0
9.2 - 9.7 :  0
9.7 - 10.1:  0
10.1 - 10.6:  0
10.6 - 11.0:  0
11.0 - 11.5: ‚ñà 1
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>Phase shift (œÄ):
0.0 - 0.0: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 287
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>Masked area (%):
0.0 - 0.0: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 287
</code></pre></div>
</div>
</div>
</div>
<h3 id="tilt-series-import">Tilt Series: Import</h3>
<p>Next we have to tell <em>WarpTools</em> which movies belong to which tilt series
so we can process them.</p>
<p class="annotate">We tell <em>WarpTools</em> about the per-tilt exposure so that we can keep track of the
cumulative dose received for each tilt. We also have an option to remove images which
are darker than expected by supplying <code>--min_intensity</code> at this stage. (1)</p>
<ol>
<li><img alt="üôã‚Äç‚ôÇÔ∏è" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64b-200d-2642-fe0f.svg" title=":man_raising_hand:" /> images are removed if their intensity is less
   than <code>min_intensity</code> * <code>cos(tilt_angle)</code> * <code>0-tilt intensity</code></li>
</ol>
<p>This command produces files with the <em>tomostar</em> extension, these are STAR files with
necessary information in them for further processing in <em>WarpTools</em>.
We put these in a folder called <code>tomostar</code></p>
<div class="highlight"><span class="filename">Import Tilt Series Metadata</span><pre><span></span><code>WarpTools<span class="w"> </span>ts_import<span class="w"> </span><span class="se">\</span>
--mdocs<span class="w"> </span>mdoc<span class="w"> </span><span class="se">\</span>
--frameseries<span class="w"> </span>warp_frameseries<span class="w"> </span><span class="se">\</span>
--tilt_exposure<span class="w"> </span><span class="m">2</span>.64<span class="w"> </span><span class="se">\</span>
--min_intensity<span class="w"> </span><span class="m">0</span>.3<span class="w"> </span><span class="se">\</span>
--dont_invert<span class="w"> </span><span class="se">\ </span><span class="c1"># (1)!</span>
--output<span class="w"> </span>tomostar
</code></pre></div>
<ol>
<li><img alt="üôã‚Äç‚ôÇÔ∏è" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64b-200d-2642-fe0f.svg" title=":man_raising_hand:" /> this option inverts geometric handedness by flipping the
   tomogram reconstruction through the XY plane, we do this here because we know for
   this dataset it leads to the correct geometric handedness in the tomogram.</li>
</ol>
<details class="note">
<summary>example tomoSTAR file</summary>
<div class="highlight"><span class="filename">TS_1.tomostar</span><pre><span></span><code>data_

loop_
_wrpMovieName #1
_wrpAngleTilt #2
_wrpAxisAngle #3
_wrpDose #4
_wrpAverageIntensity #5
_wrpMaskedFraction #6
../warp_frameseries/2Dvs3D_53-1_00041_-40.0_Jul31_11.05.12.tif   40.01  -93.500  105.600006  3.854  0.000
../warp_frameseries/2Dvs3D_53-1_00040_-38.0_Jul31_11.04.30.tif   38.00  -93.500   102.96001  3.950  0.000
../warp_frameseries/2Dvs3D_53-1_00037_-36.0_Jul31_11.02.04.tif   36.01  -93.500       95.04  3.953  0.000
../warp_frameseries/2Dvs3D_53-1_00036_-34.0_Jul31_11.01.23.tif   34.01  -93.500        92.4  3.905  0.000
../warp_frameseries/2Dvs3D_53-1_00033_-32.0_Jul31_10.59.02.tif   32.01  -93.500       84.48  4.018  0.000
../warp_frameseries/2Dvs3D_53-1_00032_-30.0_Jul31_10.58.12.tif   30.01  -93.500   81.840004  3.996  0.000
../warp_frameseries/2Dvs3D_53-1_00029_-28.0_Jul31_10.56.01.tif   28.01  -93.500   73.920006  3.906  0.000
../warp_frameseries/2Dvs3D_53-1_00028_-26.0_Jul31_10.55.20.tif   26.01  -93.500    71.28001  3.927  0.000
../warp_frameseries/2Dvs3D_53-1_00025_-24.0_Jul31_10.53.10.tif   24.01  -93.500       63.36  3.955  0.000
../warp_frameseries/2Dvs3D_53-1_00024_-22.0_Jul31_10.52.29.tif   22.01  -93.500       60.72  3.979  0.000
../warp_frameseries/2Dvs3D_53-1_00021_-20.0_Jul31_10.50.20.tif   20.01  -93.500   52.800003  3.951  0.000
../warp_frameseries/2Dvs3D_53-1_00020_-18.0_Jul31_10.49.38.tif   18.01  -93.500   50.160004  3.956  0.000
../warp_frameseries/2Dvs3D_53-1_00017_-16.0_Jul31_10.47.29.tif   16.01  -93.500       42.24  3.993  0.000
../warp_frameseries/2Dvs3D_53-1_00016_-14.0_Jul31_10.46.47.tif   14.02  -93.500   39.600002  4.054  0.000
../warp_frameseries/2Dvs3D_53-1_00013_-12.0_Jul31_10.44.21.tif   12.02  -93.500       31.68  4.071  0.000
../warp_frameseries/2Dvs3D_53-1_00012_-10.0_Jul31_10.43.39.tif   10.01  -93.500       29.04  4.054  0.000
../warp_frameseries/2Dvs3D_53-1_00009_-8.0_Jul31_10.41.34.tif    8.01  -93.500       21.12  4.063  0.000
../warp_frameseries/2Dvs3D_53-1_00008_-6.0_Jul31_10.40.51.tif    6.01  -93.500   18.480001  4.030  0.000
../warp_frameseries/2Dvs3D_53-1_00005_-4.0_Jul31_10.38.47.tif    4.01  -93.500       10.56  4.033  0.000
../warp_frameseries/2Dvs3D_53-1_00004_-2.0_Jul31_10.38.06.tif    2.01  -93.500        7.92  4.015  0.000
../warp_frameseries/2Dvs3D_53-1_00001_-0.0_Jul31_10.36.03.tif    0.02  -93.500           0  3.999  0.000
../warp_frameseries/2Dvs3D_53-1_00002_2.0_Jul31_10.36.43.tif   -1.99  -93.500        2.64  4.029  0.000
../warp_frameseries/2Dvs3D_53-1_00003_4.0_Jul31_10.37.23.tif   -3.99  -93.500        5.28  3.980  0.000
../warp_frameseries/2Dvs3D_53-1_00006_6.0_Jul31_10.39.28.tif   -5.98  -93.500   13.200001  4.019  0.000
../warp_frameseries/2Dvs3D_53-1_00007_8.0_Jul31_10.40.08.tif   -7.99  -93.500       15.84  3.977  0.000
../warp_frameseries/2Dvs3D_53-1_00010_10.0_Jul31_10.42.16.tif   -9.98  -93.500       23.76  3.961  0.000
../warp_frameseries/2Dvs3D_53-1_00011_12.0_Jul31_10.42.56.tif  -11.98  -93.500   26.400002  4.025  0.000
../warp_frameseries/2Dvs3D_53-1_00014_14.0_Jul31_10.45.03.tif  -13.98  -93.500       34.32  4.035  0.000
../warp_frameseries/2Dvs3D_53-1_00015_16.0_Jul31_10.45.51.tif  -15.98  -93.500   36.960003  4.034  0.000
../warp_frameseries/2Dvs3D_53-1_00018_18.0_Jul31_10.48.13.tif  -17.98  -93.500       44.88  4.022  0.000
../warp_frameseries/2Dvs3D_53-1_00019_20.0_Jul31_10.48.53.tif  -19.98  -93.500       47.52  3.976  0.000
../warp_frameseries/2Dvs3D_53-1_00022_22.0_Jul31_10.51.04.tif  -21.98  -93.500   55.440002  3.953  0.000
../warp_frameseries/2Dvs3D_53-1_00023_24.0_Jul31_10.51.44.tif  -23.98  -93.500       58.08  3.984  0.000
../warp_frameseries/2Dvs3D_53-1_00026_26.0_Jul31_10.53.54.tif  -25.98  -93.500          66  3.998  0.000
../warp_frameseries/2Dvs3D_53-1_00027_28.0_Jul31_10.54.34.tif  -27.99  -93.500       68.64  3.952  0.000
../warp_frameseries/2Dvs3D_53-1_00030_30.0_Jul31_10.56.46.tif  -29.99  -93.500   76.560005  3.964  0.000
../warp_frameseries/2Dvs3D_53-1_00031_32.0_Jul31_10.57.26.tif  -31.98  -93.500   79.200005  3.875  0.000
../warp_frameseries/2Dvs3D_53-1_00034_34.0_Jul31_10.59.47.tif  -33.98  -93.500       87.12  3.841  0.000
../warp_frameseries/2Dvs3D_53-1_00035_36.0_Jul31_11.00.36.tif  -35.98  -93.500       89.76  3.844  0.000
../warp_frameseries/2Dvs3D_53-1_00038_38.0_Jul31_11.03.02.tif  -37.98  -93.500       97.68  3.729  0.000
../warp_frameseries/2Dvs3D_53-1_00039_40.0_Jul31_11.03.42.tif  -39.98  -93.500   100.32001  3.797  0.000
</code></pre></div>
</details>
<h3 id="tilt-series-alignment">Tilt Series: Alignment</h3>
<p>Tilt series alignment is the determination of parameters of a projection model
required for reconstructing a tomogram from a set of projection images.
<em>WarpTools</em> doesn't have its own solution for this step at the moment, instead we
provide
wrappers around <a href="https://bio3d.colorado.edu/imod/">IMOD</a> and
<a href="https://drive.google.com/drive/folders/1Z7pKVEdgMoNaUmd_cOFhlt-QCcfcwF3_">AreTomo</a>.</p>
<p class="annotate">In this case, we will use patch tracking from IMOD via the <code>etomo_patches</code> WarpTool. (1)</p>
<ol>
<li><img alt="üôã‚Äç‚ôÇÔ∏è" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64b-200d-2642-fe0f.svg" title=":man_raising_hand:" /> <code>ts_etomo_fiducials</code> and <code>ts_aretomo</code> are also available.</li>
</ol>
<div class="highlight"><span class="filename">Tilt Series Alignment in Etomo using Patch Tracking</span><pre><span></span><code>WarpTools<span class="w"> </span>ts_etomo_patches<span class="w"> </span><span class="se">\</span>
--settings<span class="w"> </span>warp_tiltseries.settings<span class="w"> </span><span class="se">\</span>
--angpix<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
--patch_size<span class="w"> </span><span class="m">500</span><span class="w"> </span><span class="se">\ </span><span class="c1"># (1)!</span>
--initial_axis<span class="w"> </span>-85.6
</code></pre></div>
<ol>
<li><img alt="üôã‚Äç‚ôÇÔ∏è" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64b-200d-2642-fe0f.svg" title=":man_raising_hand:" /> this option is the sidelength of patches in √Öngstroms. Patches
   are arranged on a regular grid with 80% overlap.</li>
</ol>
<h3 id="tilt-series-check-defocus-handedness">Tilt Series: Check Defocus Handedness</h3>
<p><em>WarpTools</em> contains a program, <code>ts_defocus_hand</code> for checking
<a href="../../../reference/warp/defocus_handedness/">defocus handedness</a> across a dataset
and applying a correction to the model if necessary.</p>
<p class="annotate">First, we check how well our data match expectations. (1)</p>
<ol>
<li><img alt="üôã‚Äç‚ôÇÔ∏è" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64b-200d-2642-fe0f.svg" title=":man_raising_hand:" /> this check requires that defocus was estimated with at least
   two points in each spatial dimension (i.e. minimum <code>2x2x1</code>).</li>
</ol>
<div class="highlight"><span class="filename">Defocus Handedness Check</span><pre><span></span><code>WarpTools ts_defocus_hand \
--settings warp_tiltseries.settings \
--check
</code></pre></div>
<p>In this case, the program tells us that the data match our expectations so we don't need to do anything.</p>
<div class="highlight"><span class="filename">Output from Defocus Handedness Check</span><pre><span></span><code>Checking defocus handedness for all tilt series...
5/5, 0.932                                                                                                                                                                                
Average correlation: 0.932
The average correlation is positive, which means that the defocus handedness should be set to &#39;no flip&#39;
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If the correlation had been negative, we would rerun the program with the <code>--set_flip</code> 
flag to set the correct defocus handedness for all tilt series.</p>
<div class="highlight"><span class="filename">Defocus Handedness Correction</span><pre><span></span><code>WarpTools ts_defocus_hand \
--settings warp_tiltseries.settings \
--set_flip
</code></pre></div>
</div>
<h3 id="tilt-series-ctf-estimation">Tilt Series: CTF Estimation</h3>
<p>The initial defocus estimates from 2D frame series processing are great for getting an
idea about how defocus changes but obtaining accurate estimates is challenging due to
the
lower amount of signal available in typical tilt images.</p>
<p>Even if a tilt series accumulates 120 e<sup>‚àí</sup>√Ö<sup>2</sup> throughout a tilt
series
each tilt contains only a few electrons per square angstrom. This provides much
less signal than the 40 e<sup>‚àí</sup>√Ö<sup>2</sup> typical of single particle images
whilst
striving for the same accuracy.</p>
<p class="annotate"><em>WarpTools</em> contains a <code>ts_ctf</code> tool which estimates a single defocus value per image
in a tilt series whilst ensuring that data in all tilt images respect constraints
common to the whole series. (1)</p>
<ol>
<li><img alt="üôã‚Äç‚ôÇÔ∏è" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64b-200d-2642-fe0f.svg" title=":man_raising_hand:" /> this procedure is described in detail over at
   <a href="../../../reference/warp/ts_ctf_estimation/">Tilt Series CTF Estimation</a>.</li>
</ol>
<div class="highlight"><span class="filename">Tilt Series CTF Estimation</span><pre><span></span><code>WarpTools ts_ctf \
--settings warp_tiltseries.settings \
--range_high 7 \
--defocus_max 8
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Remember, you can use <code>ts_filter_quality</code> to print histograms of metrics from
processing!</p>
</div>
<h3 id="tilt-series-reconstruct-tomograms">Tilt Series: Reconstruct Tomograms</h3>
<p>Now that we have an estimate of the projection geometry and good CTF estimates for
our tilt series we can move on to tomogram reconstruction. Tomogram reconstruction
is available as <code>ts_reconstruct</code> in <em>WarpTools</em>.</p>
<div class="highlight"><span class="filename">Tomogram Reconstruction</span><pre><span></span><code>WarpTools ts_reconstruct \
--settings warp_tiltseries.settings \
--angpix 10 
</code></pre></div>
<p>Tomograms will be reconstructed and placed in <code>warp_tiltseries/reconstruction</code> alongside
preview images providing some quick visual feedback.
It's recommended that you look at volumes in a viewer like <em>3dmod</em> to assess alignment
quality.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Warp writes images as 16 bit MRC files, saving you valuable disk space and speeding up 
file input/output. If you need 32 bit images for compatibility see 
<a href="../../../reference/warptools/environment_variables/#force-writing-32-bit-mrcs"><code>WARP_FORCE_MRC_FLOAT32</code></a>.</p>
</div>
<figure>
  <img alt="tomogram preview" src="../assets/tomogram_slice_preview.png" width="60%" />
<br />
<figcaption>preview image of tomogram reconstruction</figcaption>
</figure>
<p>If you would like to reconstruct half-tomograms for subsequent denoising using
<a href="../../../reference/noise2map/noise2map/">Noise2Map</a> add the <code>--halfmap_frames</code> option to
your command.</p>
<h4 id="improving-alignments-in-etomo">Improving alignments in Etomo</h4>
<p>Running tilt series alignment programs in a fully automated way does not always give
the best results. If you would like to improve results for a particlular tilt series
you can run through <em>Etomo</em> yourself in the <code>tiltstack</code> folder for your tilt series
and import the results.</p>
<div class="highlight"><span class="filename">importing improved alignments for TS_1</span><pre><span></span><code>WarpTools ts_import_alignments \
--settings warp_tiltseries.settings \
--alignments warp_tiltseries/tiltstack/TS_1 \
--alignment_angpix 10 
</code></pre></div>
<h2 id="particle-picking">Particle Picking</h2>
<p>You can pick particles in tomograms using whichever software you like the most,
we just need the particle poses in a RELION particle STAR file for subsequent particle
export.</p>
<h3 id="template-matching">Template Matching</h3>
<p>We provide a CTF aware template matching routine, <code>ts_template_match</code>,
for automated particle picking within <em>WarpTools</em>. In this example, we will match
against an apoferritin template from the EMDB, <a href="https://www.ebi.ac.uk/emdb/EMD-15854">EMD-15854</a>.</p>
<div class="highlight"><span class="filename">Template Matching with a Template from the EMDB</span><pre><span></span><code>WarpTools ts_template_match \
--settings warp_tiltseries.settings \
--tomo_angpix 10 \
--subdivisions 3 \
--template_emdb 15854 \
--template_diameter 130 \
--symmetry O \
--whiten \
--check_hand 2 
</code></pre></div>
<p>A <code>--subdivisions</code> parameter controls the number of subdivisions defining the
angular search step: 2 = 15¬∞ step, 3 = 7.5¬∞, 4 = 3.75¬∞ and so on.</p>
<p>The <code>--check_hand</code> parameter allows you to check the physical handedness of your
tomograms by running template matching against both the template and a flipped version
for a number of tilt series and comparing the height of the top scoring peaks in each
case.</p>
<div class="admonition question">
<p class="admonition-title">When should I use spectral whitening?</p>
<p>Low resolution information typically has much more spectral power than high resolution
in our templates. This leads to low resolution information dominating the calculation of 
correlation scores. </p>
<p>The <code>--whiten</code> flag turns on spectral whitening, boosting high frequency information 
to the same power as low frequency information. 
This option improves matching results if your 
tomograms are well aligned and have meaningful information at the resolution you are 
using for matching.</p>
</div>
<p>Templates are saved in <code>warp_tiltseries/template</code> and correlation volumes are written
into the <code>warp_tiltseries/matching</code> directory.
Images showing particle picks for each tilt series at a number of different thresholds
are written into corresponding <code>*_picks</code> directories inside the <code>matching</code> directory.</p>
<figure>
  <img alt="template matching results preview" src="../assets/template_matching_results_preview.jpg" width="60%" />
<br />
<figcaption>preview image of template matching results</figcaption>
</figure>
<p>Scores are normalised to the mean and standard deviation of background of the whole
volume
so should be comparable across different tomograms and datasets.</p>
<h4 id="visualizing-results_1">Visualizing Results</h4>
<p>We have developed <a href="https://github.com/warpem/warp-tm-vis"><em>warp-tm-vis</em></a> as a standalone tool
for visualizing template matching results and simulating the effects of thresholding at different
cutoffs.</p>
<figure>
  <img alt="warp-tm-vconda  screenshot" src="https://raw.githubusercontent.com/warpem/warp-tm-vis/refs/heads/main/assets/gui-screenshot.png" width="60%" />
<br />
<figcaption>screenshot of the warp-tm-vis user interface</figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><em>warp-tm-vis</em> is a graphical application which is designed to be run locally. 
If your data are on a remote server, download them first before visualizing.</p>
</div>
<h4 id="generating-particle-picks">Generating Particle Picks</h4>
<p>We can generate particle picks for subsequent processing by finding local maxima in
a thresholded correlation volume. This is done in the <code>threshold_picks</code> WarpTool</p>
<div class="highlight"><span class="filename">Select Peaks from Template Matching Results</span><pre><span></span><code>WarpTools threshold_picks \
--settings warp_tiltseries.settings \
--in_suffix 15854 \
--out_suffix clean \
--minimum 3
</code></pre></div>
<p>This generates a number of STAR files containing particle positions with a <code>clean</code>
suffix in the filename</p>
<div class="highlight"><span class="filename">Output Files from Peak Picking</span><pre><span></span><code>warp_tiltseries/matching
‚îú‚îÄ‚îÄ TS_1_10.00Apx_emd_15854_clean.star
‚îú‚îÄ‚îÄ TS_11_10.00Apx_emd_15854_clean.star
‚îú‚îÄ‚îÄ TS_17_10.00Apx_emd_15854_clean.star
‚îú‚îÄ‚îÄ TS_23_10.00Apx_emd_15854_clean.star
‚îî‚îÄ‚îÄ TS_32_10.00Apx_emd_15854_clean.star
</code></pre></div>
<h3 id="export-particles">Export Particles</h3>
<p>You can write particles using the <code>ts_export_particles</code> tool as either</p>
<ul>
<li>3D volumes and corresponding CTF volumes</li>
<li>CTF corrected 2D particle image series</li>
</ul>
<p class="annotate">Both output types are compatible with the latest version of RELION, RELION-5.
For this tutorial we will write out 2D particle image series. (1)</p>
<ol>
<li><img alt="üôã‚Äç‚ôÇÔ∏è" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64b-200d-2642-fe0f.svg" title=":man_raising_hand:" /> if using 3D particles you need to launch refinements from
   the <code>relion</code> GUI,
   not the <code>relion --tomo</code> GUI.</li>
</ol>
<div class="highlight"><span class="filename">Export 2D particle series</span><pre><span></span><code>WarpTools ts_export_particles \
--settings warp_tiltseries.settings \
--input_directory warp_tiltseries/matching \
--input_pattern &quot;*15854_clean.star&quot; \
--normalized_coords \
--output_star relion/matching.star \
--output_angpix 4 \
--box 64 \
--diameter 130 \
--relative_output_paths \
--2d
</code></pre></div>
<p>This will write particle images the <code>warp_tiltseries/particleseries</code> directory.
Per tilt averages (2D or 3D, depending on output dimensionality) are written into
the same directory for debugging, you should see a blob in the center of these images.</p>
<figure>
  <img alt="per tilt 2D average" src="../assets/per_tilt_2d_average.jpg" width="30%" />
<br />
<figcaption>Per tilt 2D average of apoferritin</figcaption>
</figure>
<div class="admonition question">
<p class="admonition-title">Why 4√Ö per pixel?</p>
</div>
<p>The major features of apoferritin
are alpha helices which resolve nicely at around 9√Ö. 9√Ö is slightly lower than the
Nyquist limit of 8√Ö.</p>
<p>A particle STAR file will be written to the file specified as <code>--output_star</code>. In the
case of 2D averages, a RELION compatible <code>optimisation_set</code> STAR file will be written
out
which points at a description of the tilt series in <code>*_tomograms.star</code> and the
particle star file. This file can be used as input for refinement in the
<code>relion --tomo</code> GUI in RELION 5. A <code>dummy_tiltseries.mrc</code> file is written out for
compatibility with RELION.</p>
<div class="highlight"><span class="filename">RELION directory structure after particle export</span><pre><span></span><code>relion
‚îú‚îÄ‚îÄ matching.star
‚îú‚îÄ‚îÄ matching_tomograms.star
‚îú‚îÄ‚îÄ matching_optimisation_set.star
‚îî‚îÄ‚îÄ dummy_tiltseries.mrc
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Want to play with different particle sets at the same time? You can specify 
<code>--output_processing</code> to override the processing directory (<code>warp_tiltseries</code>) 
in the settings file at any time!</p>
</div>
<h2 id="initial-3d-refinement-in-relion">Initial 3D Refinement in RELION</h2>
<p>We use RELION to determine good initial particle positions
and orientations before attempting high resolution refinements in M.
3D classification in RELION can also be used to separate particles into different
classes.</p>
<p>For this apoferritin dataset, an unmasked 3D refinement
starting from a 130√Ö sphere filtered to 60√Ö refines directly to the Nyquist limit of 8√Ö.</p>
<div class="highlight"><span class="filename">Refine3D text output</span><pre><span></span><code> Auto-refine: Refinement has converged, stopping now... 
 Auto-refine: + Final reconstruction from all particles is saved as: Refine3D/job001/run_class001.mrc
 Auto-refine: + Final model parameters are stored in: Refine3D/job001/run_model.star
 Auto-refine: + Final data parameters are stored in: Refine3D/job001/run_data.star
 Auto-refine: + Final resolution (without masking) is: 8.17021
</code></pre></div>
<figure>
  <img alt="initial 3D refinement results" src="../assets/initial_refined3d_8A.jpg" width="30%" />
<br />
<figcaption>8√Ö apoferritin from Refine3D</figcaption>
</figure>
<details class="note">
<summary>RELION Refine3D command</summary>
<p>This is the command that was run via the <code>RELION --tomo</code> GUI.</p>
<div class="highlight"><pre><span></span><code>mpirun -n 3 `which relion_refine_mpi` \
--o Refine3D/job001/run \
--auto_refine \
--split_random_halves \
--ios matching_optimisation_set.star \
--ref sphere.mrc \
--trust_ref_size \
--ini_high 40 \
--dont_combine_weights_via_disc \
--pool 10 \
--pad 2  \
--ctf \
--particle_diameter 130 \
--flatten_solvent \
--zero_mask \
--oversampling 1 \
--healpix_order 2 \
--auto_local_healpix_order 4\
--offset_range 5 \
--offset_step 2 \
--sym O \
--low_resol_join_halves 40 \
--norm \
--scale  \
--j 2 \
--gpu &quot;&quot;  \
--pipeline_control Refine3D/job001/
</code></pre></div>
</details>
<h2 id="high-resolution-refinements-in-m">High Resolution Refinements in M</h2>
<p>While Warp handles the first stages of the data processing pipeline, M lives on its
opposite end. It allows you to take refinement results from RELION and perform a
multi-particle refinement. For tilt series data, M will likely
deliver a noticeable resolution boost compared to initial tilt series alignments from
IMOD or AreTomo. Refinement of <em>in situ</em> data will also benefit significantly from the
unlimited number of classes and transparent mechanisms for combining data from different
sources.</p>
<p>M strives to be a great tool for <em>in situ</em> data, which have been compared to ‚Äúmolecular
sociology‚Äú. Thus, its terminology takes a somewhat sociological angle. A project in M is
referred to as a <strong>Population</strong>. A population contains at least one <strong>Data Source</strong> and
at least
one <strong>Species</strong>. A <strong>Data Source</strong> contains a set of frame series or tilt series and
their
metadata. A <strong>Species</strong> is a map that is refined, as well as particle metadata for the
available data sources.</p>
<h3 id="setup-in-mtools">Setup in <code>MTools</code></h3>
<h4 id="population-creation">Population Creation</h4>
<p>To create a population we run the <code>create_population</code> command from <em>MTools</em></p>
<div class="highlight"><span class="filename">Create Population</span><pre><span></span><code>MTools create_population \
--directory m \
--name 10491
</code></pre></div>
<h4 id="data-source-setup">Data Source Setup</h4>
<p>Next we create a data source from our tilt series settings file.</p>
<div class="highlight"><span class="filename">Create Data Source</span><pre><span></span><code>MTools create_source \
--name 10491 \
--population m/10491.population \
--processing_settings warp_tiltseries.settings
</code></pre></div>
<h4 id="species-setup">Species Setup</h4>
<h5 id="create-mask-using-relion">Create Mask Using RELION</h5>
<p>M requires a binary mask around the particle (or region of interest).
This mask will be expanded and a soft edge will be added automatically during
refinement.</p>
<div class="highlight"><span class="filename">Mask Creation in RELION</span><pre><span></span><code>relion_mask_create \
--i relion/Refine3D/job002/run_class001.mrc \
--o m/mask_4apx.mrc \
--ini_threshold 0.04
</code></pre></div>
<h5 id="setup-species-with-create_species">Setup Species with <code>create_species</code></h5>
<p>Now we create our species, resampling to a smaller pixel size as we hope to reach higher
resolution.</p>
<div class="highlight"><span class="filename">Create Species with MTools</span><pre><span></span><code>MTools create_species \
--population m/10491.population \
--name apoferritin \
--diameter 130 \
--sym O \
--temporal_samples 1 \
--half1 relion/Refine3D/job002/run_half1_class001_unfil.mrc \
--half2 relion/Refine3D/job002/run_half2_class001_unfil.mrc \
--mask m/mask_4apx.mrc \
--particles_relion relion/Refine3D/job002/run_data.star \
--angpix_resample 0.7894 \
--lowpass 10
</code></pre></div>
<h3 id="running-m-with-mcore">Running M with <code>MCore</code></h3>
<h4 id="checking-our-setup">Checking our Setup</h4>
<p>First, we run an iteration of M without any refinements to check that everything
imported correctly.</p>
<div class="highlight"><span class="filename">Run M to Check Setup</span><pre><span></span><code>MCore \
--population m/10491.population \
--iter 0
</code></pre></div>
<p>This yields a 6.4√Ö map in our hands.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code>--perdevice_refine</code> can be used to run multiple worker processes per GPU</p>
</div>
<h4 id="first-refinement">First Refinement</h4>
<p>Now we know things have imported correctly we run an iteration of M with 2D image warp
refinement, particle pose refinement and CTF refinement. We use an exhaustive defocus
search
in the first sub-iteration (<code>--ctf_defocusexhaustive</code>) as initial estimates can be quite
far
from the true value and the gradient based optimisation in M may get stuck in local
minima.</p>
<div class="highlight"><span class="filename">First M Refinement with 2D Image Warp, Particle Poses Refinement and CTF Refinement</span><pre><span></span><code>MCore \
--population m/10491.population \
--refine_imagewarp 6x4 \
--refine_particles \
--ctf_defocus \
--ctf_defocusexhaustive \
--perdevice_refine 4
</code></pre></div>
<p>This yields a map at 3.6 √Ö.</p>
<h4 id="benefits-from-a-higher-resolution-reference">Benefits from a Higher Resolution Reference</h4>
<p>The reference now has better resolution so we can expect things to improve further
without
adding any additional parameters.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Introduce new parameters one by one when refining in M.
Be wary of the potential for overfitting parameters if data are weak!</p>
</div>
<div class="highlight"><span class="filename">Second M Refinement with 2D Image Warp, Particle Poses Refinement and CTF Refinement</span><pre><span></span><code>MCore \
--population m/10491.population \
--refine_imagewarp 6x4 \
--refine_particles \
--ctf_defocus 
</code></pre></div>
<p>This gave us a modest improvement and we now have a 3.1√Ö map.</p>
<h4 id="stage-angle-refinement">+ Stage Angle Refinement</h4>
<div class="highlight"><pre><span></span><code>MCore \
--population m/10491.population \
--refine_imagewarp 6x4 \
--refine_particles \
--refine_stageangles 
</code></pre></div>
<p>3.0 A</p>
<h4 id="magnificationcszernike3">+ Magnification/Cs/Zernike3</h4>
<p>We can add more CTF parameters and see whether this yields any improvements</p>
<div class="highlight"><pre><span></span><code>MCore \
--population m/10491.population \
--refine_imagewarp 6x4 \
--refine_particles \
--refine_mag \
--ctf_cs \
--ctf_defocus \
--ctf_zernike3 
</code></pre></div>
<p>In this case, the map stayed at 3.0√Ö.</p>
<h4 id="weights-per-tilt-series">+ Weights (Per-Tilt Series)</h4>
<div class="highlight"><span class="filename">Estimate Weights (Per-Tilt Series)</span><pre><span></span><code>EstimateWeights \
--population m/10491.population \
--source 10491 \
--resolve_items

MCore \
--population m/10491.population
</code></pre></div>
<h4 id="weights-per-tilt-averaged-over-all-tilt-series">+ Weights (Per-Tilt, Averaged over all Tilt Series)</h4>
<div class="highlight"><pre><span></span><code>EstimateWeights \
--population m/10491.population \
--source 10491 \
--resolve_frames

MCore \
--population m/10491.population \
--perdevice_refine 4 \
--refine_particles
</code></pre></div>
<p>3.0 √Ö</p>
<h4 id="temporal-pose-resolution">+ Temporal Pose Resolution</h4>
<p>M is capable of refining how particle poses change over time through a tilt series.</p>
<div class="highlight"><pre><span></span><code>MTools resample_trajectories \
--population m/10491.population \
--species m/species/apoferritin_797f75c2/apoferritin.species \
--samples 2

MCore \
--population m/10491.population \
--refine_imagewarp 6x4 \
--refine_particles \
--refine_stageangles \
--refine_mag \
--ctf_cs \
--ctf_defocus \
--ctf_zernike3
</code></pre></div>
<p>2.9 A</p>
<h2 id="final-map-29a">Final Map: 2.9√Ö</h2>
<figure>
  <img alt="M result" src="../assets/m_result.jpg" width="80%" />
<br />
<figcaption>Final Map at 2.9√Ö after running M</figcaption>
</figure>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 - 2024
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.sections", "search.highlight", "search.suggest", "content.tabs.link", "content.code.annotate", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>